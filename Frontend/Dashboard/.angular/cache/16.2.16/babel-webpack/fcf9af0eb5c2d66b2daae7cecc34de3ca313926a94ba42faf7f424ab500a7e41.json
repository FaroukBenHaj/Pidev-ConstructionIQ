{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./Services/keycloak/keycloak.service\";\nimport * as i2 from \"@angular/router\";\nexport class AppComponent {\n  constructor(keycloakService) {\n    this.keycloakService = keycloakService;\n  }\n  ngOnInit() {\n    this.keycloakService.init().then(() => {\n      const roles = this.keycloakService.getRoles();\n      if (roles.includes('ADMIN')) {\n        window.location.href = 'http://localhost:4200'; // Admin template\n      } else if (roles.includes('user')) {\n        window.location.href = 'http://localhost:4300'; // User template\n      } else {\n        alert('Access Denied: No matching role');\n        this.keycloakService.logout();\n      }\n    });\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.KeycloakService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 1,\n      vars: 0,\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"router-outlet\");\n        }\n      },\n      dependencies: [i2.RouterOutlet],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["AppComponent","constructor","keycloakService","ngOnInit","init","then","roles","getRoles","includes","window","location","href","alert","logout","i0","ɵɵdirectiveInject","i1","KeycloakService","selectors","decls","vars","template","AppComponent_Template","rf","ctx","ɵɵelement"],"sources":["C:\\Users\\medfa\\Desktop\\Cycle_ingenieur\\Esprit\\4SAE5\\Projet_PI\\Pidev-ConstructionIQ\\FrontEnd\\Dashboard\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {KeycloakService} from \"./Services/keycloak/keycloak.service\";\n\n@Component({\n  selector: 'app-root',\n  template: '<router-outlet></router-outlet>'\n})\nexport class AppComponent implements OnInit {\n  constructor(private keycloakService: KeycloakService) {}\n\n  ngOnInit() {\n    this.keycloakService.init().then(() => {\n      const roles = this.keycloakService.getRoles();\n      if (roles.includes('ADMIN')) {\n        window.location.href = 'http://localhost:4200'; // Admin template\n      } else if (roles.includes('user')) {\n        window.location.href = 'http://localhost:4300'; // User template\n      } else {\n        alert('Access Denied: No matching role');\n        this.keycloakService.logout();\n      }\n    });\n  }\n\n}\n"],"mappings":";;;AAOA,OAAM,MAAOA,YAAY;EACvBC,YAAoBC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;EAAoB;EAEvDC,QAAQA,CAAA;IACN,IAAI,CAACD,eAAe,CAACE,IAAI,EAAE,CAACC,IAAI,CAAC,MAAK;MACpC,MAAMC,KAAK,GAAG,IAAI,CAACJ,eAAe,CAACK,QAAQ,EAAE;MAC7C,IAAID,KAAK,CAACE,QAAQ,CAAC,OAAO,CAAC,EAAE;QAC3BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,uBAAuB,CAAC,CAAC;OACjD,MAAM,IAAIL,KAAK,CAACE,QAAQ,CAAC,MAAM,CAAC,EAAE;QACjCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,uBAAuB,CAAC,CAAC;OACjD,MAAM;QACLC,KAAK,CAAC,iCAAiC,CAAC;QACxC,IAAI,CAACV,eAAe,CAACW,MAAM,EAAE;;IAEjC,CAAC,CAAC;EACJ;;;uBAfWb,YAAY,EAAAc,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,eAAA;IAAA;EAAA;;;YAAZjB,YAAY;MAAAkB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UAFZT,EAAA,CAAAW,SAAA,oBAA+B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}