{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Keycloak/Keycloak.service\";\nexport class HttpTokenInterceptor {\n  constructor(keycloakService) {\n    this.keycloakService = keycloakService;\n  }\n  intercept(request, next) {\n    const token = this.keycloakService.keycloak.token;\n    if (token) {\n      const authReq = request.clone({\n        headers: new HttpHeaders({\n          Authorization: `Bearer ${token}`\n        })\n      });\n      return next.handle(authReq);\n    }\n    return next.handle(request);\n  }\n  static {\n    this.ɵfac = function HttpTokenInterceptor_Factory(t) {\n      return new (t || HttpTokenInterceptor)(i0.ɵɵinject(i1.KeycloakService));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: HttpTokenInterceptor,\n      factory: HttpTokenInterceptor.ɵfac\n    });\n  }\n}","map":{"version":3,"names":["HttpHeaders","HttpTokenInterceptor","constructor","keycloakService","intercept","request","next","token","keycloak","authReq","clone","headers","Authorization","handle","i0","ɵɵinject","i1","KeycloakService","factory","ɵfac"],"sources":["C:\\Users\\medfa\\Desktop\\Cycle_ingenieur\\Esprit\\4SAE5\\Projet_PI\\Pidev-ConstructionIQ\\FrontEnd\\Dashboard\\src\\app\\Services\\interceptors\\http-token.interceptor.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor, HttpHeaders\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport {KeycloakService} from \"../Keycloak/Keycloak.service\";\n\n@Injectable()\nexport class HttpTokenInterceptor implements HttpInterceptor {\n\n  constructor(\n    private keycloakService: KeycloakService\n  ) {\n  }\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    const token = this.keycloakService.keycloak.token;\n    if (token) {\n      const authReq = request.clone({\n        headers: new HttpHeaders({\n          Authorization: `Bearer ${token}`\n        })\n      });\n      return next.handle(authReq);\n    }\n    return next.handle(request);  }\n}\n"],"mappings":"AACA,SAImBA,WAAW,QACvB,sBAAsB;;;AAK7B,OAAM,MAAOC,oBAAoB;EAE/BC,YACUC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;EAEzB;EAEAC,SAASA,CAACC,OAA6B,EAAEC,IAAiB;IACxD,MAAMC,KAAK,GAAG,IAAI,CAACJ,eAAe,CAACK,QAAQ,CAACD,KAAK;IACjD,IAAIA,KAAK,EAAE;MACT,MAAME,OAAO,GAAGJ,OAAO,CAACK,KAAK,CAAC;QAC5BC,OAAO,EAAE,IAAIX,WAAW,CAAC;UACvBY,aAAa,EAAE,UAAUL,KAAK;SAC/B;OACF,CAAC;MACF,OAAOD,IAAI,CAACO,MAAM,CAACJ,OAAO,CAAC;;IAE7B,OAAOH,IAAI,CAACO,MAAM,CAACR,OAAO,CAAC;EAAG;;;uBAjBrBJ,oBAAoB,EAAAa,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,eAAA;IAAA;EAAA;;;aAApBhB,oBAAoB;MAAAiB,OAAA,EAApBjB,oBAAoB,CAAAkB;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}