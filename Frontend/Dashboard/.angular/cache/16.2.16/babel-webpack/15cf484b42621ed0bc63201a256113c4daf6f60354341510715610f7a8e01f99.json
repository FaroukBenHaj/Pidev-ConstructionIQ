{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { HttpHeaders } from '@angular/common/http';\nexport let HttpTokenInterceptor = class HttpTokenInterceptor {\n  constructor(keycloakService) {\n    this.keycloakService = keycloakService;\n  }\n  intercept(request, next) {\n    const token = this.keycloakService.keycloak.token;\n    if (token) {\n      const authReq = request.clone({\n        headers: new HttpHeaders({\n          Authorization: `Bearer ${token}`\n        })\n      });\n      return next.handle(authReq);\n    }\n    return next.handle(request);\n  }\n};\nHttpTokenInterceptor = __decorate([Injectable()], HttpTokenInterceptor);","map":{"version":3,"names":["Injectable","HttpHeaders","HttpTokenInterceptor","constructor","keycloakService","intercept","request","next","token","keycloak","authReq","clone","headers","Authorization","handle","__decorate"],"sources":["C:\\Users\\medfa\\Desktop\\Cycle_ingenieur\\Esprit\\4SAE5\\Projet_PI\\Pidev-ConstructionIQ\\FrontEnd\\Dashboard\\src\\app\\Services\\interceptors\\http-token.interceptor.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor, HttpHeaders\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport {KeycloakService} from \"./Frontend/Dashboard/src/app/Services/keycloak/keycloak.service\";\n\n@Injectable()\nexport class HttpTokenInterceptor implements HttpInterceptor {\n\n  constructor(\n    private keycloakService: KeycloakService\n  ) {\n  }\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    const token = this.keycloakService.keycloak.token;\n    if (token) {\n      const authReq = request.clone({\n        headers: new HttpHeaders({\n          Authorization: `Bearer ${token}`\n        })\n      });\n      return next.handle(authReq);\n    }\n    return next.handle(request);  }\n}\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAImBC,WAAW,QACvB,sBAAsB;AAKtB,WAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAE/BC,YACUC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;EAEzB;EAEAC,SAASA,CAACC,OAA6B,EAAEC,IAAiB;IACxD,MAAMC,KAAK,GAAG,IAAI,CAACJ,eAAe,CAACK,QAAQ,CAACD,KAAK;IACjD,IAAIA,KAAK,EAAE;MACT,MAAME,OAAO,GAAGJ,OAAO,CAACK,KAAK,CAAC;QAC5BC,OAAO,EAAE,IAAIX,WAAW,CAAC;UACvBY,aAAa,EAAE,UAAUL,KAAK;SAC/B;OACF,CAAC;MACF,OAAOD,IAAI,CAACO,MAAM,CAACJ,OAAO,CAAC;;IAE7B,OAAOH,IAAI,CAACO,MAAM,CAACR,OAAO,CAAC;EAAG;CACjC;AAlBYJ,oBAAoB,GAAAa,UAAA,EADhCf,UAAU,EAAE,C,EACAE,oBAAoB,CAkBhC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}