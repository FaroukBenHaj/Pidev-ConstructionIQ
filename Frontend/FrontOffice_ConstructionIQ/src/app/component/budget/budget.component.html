<div class="container mt-4">

    <!-- âœ… Message de succÃ¨s -->
    <div *ngIf="showSuccess" class="alert alert-success text-center" [@fadeIn]>
      âœ… Budget ajoutÃ© avec succÃ¨s !
    </div>
  
    <div class="card shadow-lg p-4">
      <h3 class="text-center text-primary mb-4">Ajouter un Budget</h3>
  
      <form [formGroup]="budgetForm" (ngSubmit)="onSubmit()" [@fadeIn]>
  
        <!-- ğŸ§® Montants -->
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="montantTotal" class="form-label">Montant Total (â‚¬)</label>
            <input type="number" id="montantTotal" class="form-control" formControlName="montantTotal">
          </div>
  
          <div class="col-md-6 mb-3">
            <label for="montantRestant" class="form-label">Montant Restant (â‚¬)</label>
            <input type="number" id="montantRestant" class="form-control" formControlName="montantRestant">
            <div *ngIf="budgetForm.get('montantRestant')?.errors?.['montantRestantInvalid']" class="text-danger">
              âŒ Le montant restant ne peut pas dÃ©passer le montant total.
            </div>
          </div>
        </div>
  
        <!-- ğŸ†” Projet -->
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="projetId" class="form-label">ID du Projet</label>
            <input type="number" id="projetId" class="form-control" formControlName="projetId">
          </div>
  
          <div class="col-md-6 mb-3">
            <label for="dateCreation" class="form-label">Date de CrÃ©ation</label>
            <input type="datetime-local" id="dateCreation" class="form-control" formControlName="dateCreation">
          </div>
        </div>
  
        <!-- âœ… Bouton -->
        <div class="text-center mt-3">
          <button class="btn btn-success px-4" type="submit" [disabled]="!budgetForm.valid">
            <i class="fas fa-save"></i> Enregistrer
          </button>
        </div>
  
      </form>
    </div>
  
    <!-- ğŸ“œ Liste des Budgets (optionnel) -->
    <div class="mt-5">
      <h4>Budgets enregistrÃ©s :</h4>
      <ul class="list-group" *ngIf="budgets.length > 0">
        <li *ngFor="let b of budgets" class="list-group-item d-flex justify-content-between align-items-center" [@fadeIn]>
          Projet #{{ b.projetId }} â€” {{ b.montantTotal }} â‚¬
          <button class="btn btn-sm btn-outline-danger" (click)="deleteBudget(b.id)">ğŸ—‘ Supprimer</button>
        </li>
      </ul>
      <div *ngIf="budgets.length === 0" class="text-muted">Aucun budget enregistrÃ© pour le moment.</div>
    </div>
  
  </div>
  